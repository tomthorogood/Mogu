#include "Context.h"
#include "QuerySet.h"
#include "Query.h"
#include <iostream>

using namespace Redis;
using std::cout;
using std::endl;

int main() {
    Context testContext;
    std::string exists = "exists";
    std::string foo = "foo";
    QuerySet db(&testContext);

    db.appendQuery("exists foo");
    db.appendQuery("exists %s", "foo");
    db.appendQuery("%s %s", "exists", "foo");
    db.appendQuery("exists %s", foo.c_str());
    db.appendQuery("%s %s", exists.c_str(), foo.c_str());

    bool a1 = db.yieldResponse <bool>();
    bool a2 = db.yieldResponse <bool>();
    bool a3 = db.yieldResponse <bool>();
    bool a4 = db.yieldResponse <bool>();
    bool a5 = db.yieldResponse <bool>();

    cout << "a1 -> " << a1 << endl;
    cout << "a2 -> " << a2 << endl;
    cout << "a3 -> " << a3 << endl;
    cout << "a4 -> " << a4 << endl;
    cout << "a5 -> " << a5 << endl;
}
